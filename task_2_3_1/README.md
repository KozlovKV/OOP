# JavaFX Snake
*"Хороший программист сначала описывает архитектуру, а затем её реализует" ©️*

*Ну или хотя бы пытается так сделать...*

В общем, архитектура предположительно будет такой.

Паттерн - MVVM

Model - хранит состояние змейки (возможно с опцией его сохранения и чем-нибудь ещё)

View - Finite state machine, которая будет переключать сцены и выводить данные

Model view будет:
- Хранить сценозавсимые данные (вектор движения змейки и т.п.)
- Получать данные из модели
- Обновлять данные в модели
- Отправлять данные на отображение

Задачи первого плана:
- [*] 2 сцены: меню с кнопкой запуска и игровое поле
- [*] Простейшая змейка с возможностью смерти и роста (поле - замкнутый тор) (*осталость добавить смерть и обновление по таймеру (aka FPS)*)

Задачи второго плана:
- [*] Вывод очков на экран
- Сохранение результата игры (соответственно, добавление сцены с таблицей лидеров)

Задачи третьего плана:
- Дполнительные режимы либо параметры (изменение вида поля, второй игрок или, скажем, убегающая еда)
  - [*] Добавить изменение базовых параметров
- Добавить окно ошибки

Идея для переработки модели: создать менеджера моделей, который будет хранить классы всех моделей, что позволит нам из одного model-view работать с другими элементами модели и при этом не создавать мега-класс для всех данных игры. Соответственно, в менджере будет функция переключения текущей модели, но с возможностью доступа к другим моделям. Сейчас это позволит выводить накопленный счёт, в перспективе - менять настройки игры. Соответственно, мы получаем некоторую солянку из целого набора паттернов: модели конкретных сцен будут синглтонами, а менеджер состояний - также машиной состояний.

## Итоговая базовая версия
- MVVM
- Finite state machine со сценами (View)
- View-model, подключённое к FXML как контроллеры
- Модульные model-классы с паттерном singleton, хранящиеся как enum, что позволяет из любого класса view-model получить/изменить любые данные

## План по расширению для бонусного задания
- Добавить отдельную сущность поля с возможностью парсинга из файла
  - Простой вариант - хранение поля в JSON - не так удобно для пользователя, но удобно для парсинга
  - Сложный вариант - простой текстовый файл с разметкой поля - удобно для пользователя, но парсинг будет сложнее
- Добавить змейку, управляемую ИИ с несколькими вариантами поведения:
  - Хаос
  - Пожиратель (без возможности роста или с ней)
  - Убийца (может быть совмещено с прошлой тактикой)